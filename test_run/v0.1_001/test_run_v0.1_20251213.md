# 家系図作成GPTs v0.1 試運転ログ
**日時**: 2025年12月13日
**バージョン**: v0.1
**結果**: 成功（SVG出力・JSON中間表現の生成に成功）
**品質評価**: 出力はされたが、ユーザーからは「極めて低品質」との評価（詳細は末尾にて考察）。

## ユーザー入力とAI応答

### 1. 初回入力
**ユーザー**: 
> 私は50歳です。48歳のときに乳癌を発症しました。両親は、父が70歳、母が68歳です。母は50歳のときに乳癌を発症し手術治療を受けました。53歳の姉がいますが特に既往歴はありません。

**AI**:
（情報の整理を行い、発端者・第一度近親者の状況を確認。追加情報として祖父母・叔父叔母についての質問を提示）

### 2. 追加指示
**ユーザー**:
> 先ほど述べた以外の家族には特に記載すべきものはありません。ここまでの情報でSVGファイルを作成してほしいです。

**AI**:
（Code Interpreterを実行し、SVGファイルを作成・提示）

> お待たせしました。
> ご提供いただいた情報に基づき、国際標準（Bennett et al.／日本遺伝カウンセリング学会準拠）で家系図を作成しました。
> ...
> [👉 家系図SVGをダウンロード]

### 3. データ構造の確認
**ユーザー**:
> 途中経過のjsonを出力できますか？

**AI**:
（以下のJSONを出力）

```json
{
  "individuals": [
    {
      "id": "I-1",
      "gender": "M",
      "status": [],
      "age": "70",
      "name": "Father"
    },
    {
      "id": "I-2",
      "gender": "F",
      "status": ["affected"],
      "age": "68",
      "name": "Mother (Breast ca @50)"
    },
    {
      "id": "II-1",
      "gender": "F",
      "status": [],
      "age": "53",
      "name": "Sister"
    },
    {
      "id": "II-2",
      "gender": "F",
      "status": ["affected", "proband"],
      "age": "50",
      "name": "Proband (Breast ca @48)"
    }
  ],
  "relationships": [
    {
      "partners": ["I-1", "I-2"],
      "type": "spouse",
      "children": ["II-1", "II-2"]
    }
  ]
}
```

## 考察と課題 (Reflection & Issues)
今回の試運転では、**「システムとしての動作（入力→正規化JSON→Python実行→SVG出力）」は正常に機能**しました。しかし、ユーザー様より**「出力結果が極めて低品質」**とのフィードバックをいただきました。

**考えられる低品質の原因:**
1.  **レイアウトの単純さ (`auto_layout`)**:
    *   現状のロジックは単に世代ごとに横並びにするだけであり、親子線を綺麗に繋ぐ「直角のコネクタ線」や「兄弟姉妹ブラケット」の描画が不完全である可能性が高い。標準的な家系図で見られる「コの字型」の線が描けていないと、視認性は著しく低くなる。
2.  **要素の重なり**:
    *   記号（□○）とテキスト（年齢・病名）が重なっていたり、線が記号を突き抜けている可能性がある。
3.  **デザイン的な洗練不足**:
    *   線の太さ、記号のサイズ、フォントなどが適切なバランスになっていない。

**次期バージョン (v0.2) への改善案**:
*   **レイアウトエンジンの強化**: 親子関係を正しく「コの字」型で結ぶ描画ロジックの実装（必須）。
*   **テキスト配置の最適化**: 記号の下に十分な余白を取り、病名などの長いテキストが図を邪魔しないようにする。
*   **SVG構造の適正化**: draw.io で開いた際にグループ化が扱いやすい構造にする。
